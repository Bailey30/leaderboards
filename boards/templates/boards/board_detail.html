{% extends "boards/base.html" %}
{% load static %}
{% block content %}

<head>
    <script type="module">
        import {sendMessage} from "{% static 'boards/websocket.js' %}"
        document.addEventListener("DOMContentLoaded", () => {
            const dialog = document.getElementById("score_dialog")
            const board_name = document.getElementById("board_name")


            board_name.addEventListener("click", () => {
                dialog.showModal()
                console.log({dialog})
                sendMessage("websocket message")
            })
        })
    </script>
</head>
<h2 id="board_name">{{ board.name }}</h2>
{% for score in board.scores %}
<div>
    <span>{{ score.value }}</span>
    <span>{{ score.username }}</span>
</div>
{% endfor %}
<dialog id="score_dialog">
    {% include "boards/score_form.html" %}
</dialog>
{% endblock %}
